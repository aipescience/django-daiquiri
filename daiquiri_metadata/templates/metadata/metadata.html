{% extends 'core/wide.html' %}
{% load staticfiles %}
{% load compress %}
{% load i18n %}
{% load core_tags %}

{% block bodyargs %}ng-app="metadata" ng-controller="MetadataController"{% endblock %}

{% block headextra %}
    {% compress css %}
    <link rel="stylesheet" type="text/x-scss" href="{% static 'core/css/browser.scss' %}" />
    <link rel="stylesheet" type="text/x-scss" href="{% static 'metadata/css/metadata.scss' %}" />
    {% endcompress %}

    {% compress js %}
    <script type="text/javascript" src="{% static 'angular/angular.min.js' %}" ></script>
    <script type="text/javascript" src="{% static 'angular-resource/angular-resource.min.js' %}" ></script>

    <script type="text/javascript" src="{% static 'core/js/core.js' %}" ></script>
    <script type="text/javascript" src="{% static 'core/js/filter.js' %}" ></script>
    <script type="text/javascript" src="{% static 'core/js/multiCheckbox.js' %}" ></script>
    <script type="text/javascript" src="{% static 'core/js/byNumber.js' %}" ></script>
    <script type="text/javascript" src="{% static 'core/js/formgroup.js' %}" ></script>
    <script type="text/javascript" src="{% static 'core/js/browser.js' %}" ></script>

    <script type="text/javascript" src="{% static 'metadata/js/metadata.js' %}" ></script>
    {% endcompress %}
{% endblock %}

{% block wide %}

    <h1>Metadata management</h1>

    <p>
        {% trans 'Please click on a database, a table, a column or a function to show or edit its metadata.' %}
    </p>

    <div class="row">
        <div class="col-md-9">
            <div daiquiri-browser data-browser-id="databases" class="daiquiri-metadata-browser"></div>
        </div>
        <div class="col-md-3">
            <div daiquiri-browser data-browser-id="functions" class="daiquiri-metadata-browser"></div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-9">
            {% include 'metadata/metadata_display.html' %}
        </div>
        <div class="col-md-3">
            {% include 'metadata/metadata_options.html' %}
        </div>
    </div>

    {% include 'metadata/metadata_modal_form_databases.html' %}
    {% include 'metadata/metadata_modal_form_tables.html' %}
    {% include 'metadata/metadata_modal_form_columns.html' %}
    {% include 'metadata/metadata_modal_form_functions.html' %}

    {% include 'metadata/metadata_modal_delete_databases.html' %}
    {% include 'metadata/metadata_modal_delete_tables.html' %}
    {% include 'metadata/metadata_modal_delete_columns.html' %}
    {% include 'metadata/metadata_modal_delete_functions.html' %}

{% endblock %}
